<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Myotracker - Doctor Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <header class="navbar">
        <img src="2.png" alt="Logo">
        <button id="logout-btn" class="logout-btn">
            <i class="fas fa-sign-out-alt"></i> Logout
        </button>
    </header>

    <main class="contenedor-principal">
        <section class="seleccion-paciente">
            <p class="mi-parrafo">Your Patients:</p>
            <div class="perfiles">
                <!-- Patient profiles will be dynamically inserted here by JavaScript -->
                <div class="no-patients" id="no-patients-message">
                    <i class="fas fa-user-slash"></i>
                    <p>No patients assigned yet</p>
                </div>
            </div>
            
            <div class="patient-actions">
                <button id="refresh-patients-btn" class="refresh-btn">
                    <i class="fas fa-sync-alt"></i> Refresh Patients
                </button>
            </div>
        </section>

        <section class="resultados-seccion">
            <div class="grafica-container">
                <h3 id="titulo-evolucion">CMAS Evolution</h3>
                <div class="grafica">
                    <canvas id="lineChart"></canvas>
                </div>
                <div class="no-data" id="no-evolution-data">
                    <i class="fas fa-chart-line"></i>
                    <p>Select a patient to view evolution data</p>
                </div>
            </div>

            <div class="resultados-detallados">
                <h3 id="titulo-resultados">Test Results</h3>
                <div class="grafica-barras-container">
                    <canvas id="barChart"></canvas>
                    <div class="no-data" id="no-results-data">
                        <i class="fas fa-chart-bar"></i>
                        <p>No test results available</p>
                    </div>
                </div>

                <div class="tabla-resultados-container">
                    <h4 id="titulo-detalle">Detailed Tests</h4>
                    <table id="tabla-resultados">
                        <thead>
                            <tr>
                                <th>Test</th>
                                <th>Score</th>
                                <th>Interpretation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Data will be filled by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="video-evaluacion">
                <h3 id="titulo-video">Evaluation Video</h3>
                <div class="video-container">
                    <video id="video-paciente" controls poster="thumbnails/default.jpg">
                        <source src="" type="video/mp4">
                        Your browser doesn't support HTML5 video.
                    </video>
                    <div class="no-data" id="no-video-data">
                        <i class="fas fa-video-slash"></i>
                        <p>No evaluation video available</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="test-management">
            <h3>Test Management</h3>
            <div class="test-actions">
                <button id="create-test-btn" class="test-btn">
                    <i class="fas fa-plus-circle"></i> Create New Test
                </button>
                <div class="test-notes" id="test-notes-container">
                    <h4>Test Notes</h4>
                    <div class="no-notes" id="no-notes-message">
                        <p>No notes available for this test</p>
                    </div>
                </div>
                <div class="add-notes">
                    <textarea id="test-notes-input" placeholder="Add notes about this test..."></textarea>
                    <button id="save-notes-btn" class="notes-btn">
                        <i class="fas fa-save"></i> Save Notes
                    </button>
                </div>
            </div>
        </section>

        <section class="mensajeria-paciente">
            <h3 id="titulo-mensaje">Send Message to Patient</h3>
            <div class="mensaje-container">
                <div class="selector-tipo">
                    <label for="tipo-mensaje">Message Type:</label>
                    <select id="tipo-mensaje">
                        <option value="task">Exercise Task</option>
                        <option value="reminder">Appointment Reminder</option>
                        <option value="feedback">Progress Feedback</option>
                        <option value="custom">Custom Message</option>
                    </select>
                </div>

                <div class="editor-mensaje">
                    <textarea id="texto-mensaje" placeholder="Write your message here..."></textarea>
                    <div class="opciones-ejercicio" id="opciones-ejercicio">
                        <label>Select Exercises:</label>
                        <div class="checkboxes">
                            <label><input type="checkbox" name="ejercicio" value="head_lift"> Head Lift</label>
                            <label><input type="checkbox" name="ejercicio" value="leg_raise"> Leg Raise</label>
                            <label><input type="checkbox" name="ejercicio" value="arm_raise"> Arm Raise</label>
                        </div>
                    </div>
                </div>

                <div class="controles-envio">
                    <button id="btn-enviar" class="btn-enviar">
                        <i class="fas fa-paper-plane"></i> Send Message
                    </button>
                    <div class="message-status" id="message-status"></div>
                </div>
            </div>
        </section>
    </main>

    <script type="module" src="javascript_doctor.js"></script>
</body>

</html>